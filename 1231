[general]
# > ç”¨äºèŠ‚ç‚¹å»¶è¿Ÿæµ‹è¯•
#server_check_url=http://cp.cloudflare.com/generate_204
#server_check_url= http://www.qualcomm.cn/generate_204
server_check_url=http://captive.apple.com/generate_204
#server_check_url =http://www.google.com/generate_204
# > æœåŠ¡å™¨æµ‹è¯•è¶…æ—¶æ—¶é—´ (æ¯«ç§’)
server_check_timeout = 3000
udp_drop_list = 53, QUIC
excluded_routes = 192.168.0.0/16, 10.0.0.0/8, 172.16.0.0/12, 100.64.0.0/10
dns_exclusion_list = *.lan, *.local, cable.auth.com, *.msftconnecttest.com, *.msftncsi.com, network-test.debian.org, detectportal.firefox.com, *.srv.nintendo.net, *.stun.playstation.net, *.xboxlive.com, *.logon.battle.net, pool.ntp.org, captive.apple.com, *.miwifi.com
dns_reject_domain_behavior = loopback


[dns]
no-system
no-ipv6
server=223.6.6.6
server=223.5.5.5
address=/s.lifengchun.top/74.48.129.174
address=/r.lifengchun.top/198.23.249.11

[policy]
static=å¤§é™†æœåŠ¡, direct, img-url=https://raw.githubusercontent.com/fhf1231/filterurl/main/China.png
static=AppleTV, direct, img-url=https://raw.githubusercontent.com/fhf1231/filterurl/main/Apple.png
static=æµ·å¤–æœåŠ¡, proxy, img-url=https://raw.githubusercontent.com/fhf1231/filterurl/main/Global.png

[server_local]
vmess=s.lifengchun.top:443, method=chacha20-ietf-poly1305, password=789324c6-4d3f-4ff0-833c-3193b81108ef, obfs=wss, obfs-uri=/ocs/v2.php/notifications/ws, tls-verification=true, fast-open=false, udp-relay=false, tag=lsjvm
trojan=74.48.129.174:443, password=aZ9#pLqV2!sRk6@w, obfs=wss, obfs-host=s.lifengchun.top, obfs-uri=/remote.php/dav/files/minicloud, udp-relay=false, tls-verification=true, tag=lsjtr
vmess=r.lifengchun.top:443, method=chacha20-ietf-poly1305, password=0986131e-ba14-4ef5-8794-c2e3b1ade4c9, obfs=wss, obfs-uri=/jinWu12ea9, tls-verification=true, fast-open=false, udp-relay=false, tag=dlsvm
trojan=198.23.249.11:443, password=xV8%nJ3&cW5@eP9b, obfs=wss, obfs-host=r.lifengchun.top, obfs-uri=/remote.php/webdav/files/, udp-relay=false, tls-verification=true, tag=dlstr

[server_remote]

[filter_remote]
FILTER_LAN, tag=LAN, force-policy=direct, inserted-resource=true, enabled=true
FILTER_REGION, tag=å¤§é™†æœåŠ¡, force-policy=å¤§é™†æœåŠ¡, inserted-resource=true, enabled=true
https://raw.githubusercontent.com/fhf1231/filterurl/main/mainland.list, tag=å¤§é™†æœåŠ¡, force-policy=å¤§é™†æœåŠ¡, opt-parser=false, enabled=true
https://raw.githubusercontent.com/fhf1231/filterurl/main/AppleTV.list, tag=AppleTV, force-policy=AppleTV, opt-parser=false, enabled=true
# https://raw.githubusercontent.com/fhf1231/filterurl/main/overseas.list, tag=æµ·å¤–æœåŠ¡, force-policy=æµ·å¤–æœåŠ¡, opt-parser=false, enabled=true

# =========================================================
# ğŸ›¡ï¸ 2025 è‡ªåŠ¨åŒ–è§„åˆ™è®¢é˜… (CDN åŠ é€Ÿ + é˜²æ±¡æŸ“å¼ºåŒ–ç‰ˆ)
# =========================================================

# ------------------- 1. å¿…é¡»ç½®é¡¶çš„ç³»ç»Ÿè§„åˆ™ -------------------
# å±€åŸŸç½‘ä¸ GeoIP (ç³»ç»Ÿå†…ç½®ï¼Œä¿æŒåŸæ ·)

# ------------------- 2. äººå·¥æ™ºèƒ½ (AI Priority) -------------------
# OpenAI / ChatGPT (å«è¯­éŸ³/Sora)
https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/QuantumultX/OpenAI/OpenAI.list, tag=OpenAI, policy=æµ·å¤–æœåŠ¡, force-remote-dns=1, update-interval=86400, opt-parser=false

# Claude (Anthropic)
https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/QuantumultX/Claude/Claude.list, tag=Claude, policy=æµ·å¤–æœåŠ¡, force-remote-dns=1, update-interval=86400, opt-parser=false

# Gemini / Google AI
https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/QuantumultX/Gemini/Gemini.list, tag=Gemini, policy=æµ·å¤–æœåŠ¡, force-remote-dns=1, update-interval=86400, opt-parser=false

# Copilot
https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/QuantumultX/Copilot/Copilot.list, tag=Copilot, policy=æµ·å¤–æœåŠ¡, force-remote-dns=1, update-interval=86400, opt-parser=false

# ------------------- 3. æ ¸å¿ƒæµåª’ä½“ä¸ç¤¾äº¤ -------------------
# YouTube (å·²ä¿®å¤å†å²è®°å½•)
https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/QuantumultX/YouTube/YouTube.list, tag=YouTube, policy=æµ·å¤–æœåŠ¡, force-remote-dns=1, update-interval=86400, opt-parser=false

# Netflix
https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/QuantumultX/Netflix/Netflix.list, tag=Netflix, policy=æµ·å¤–æœåŠ¡, force-remote-dns=1, update-interval=86400, opt-parser=false

# Disney+
https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/QuantumultX/Disney/Disney.list, tag=Disney, policy=æµ·å¤–æœåŠ¡, force-remote-dns=1, update-interval=86400, opt-parser=false

# Spotify
https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/QuantumultX/Spotify/Spotify.list, tag=Spotify, policy=æµ·å¤–æœåŠ¡, force-remote-dns=1, update-interval=86400, opt-parser=false

# Twitter / X (å« xAI / Grok åŸºç¡€åŸŸå)
https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/QuantumultX/Twitter/Twitter.list, tag=Twitter, policy=æµ·å¤–æœåŠ¡, force-remote-dns=1, update-interval=86400, opt-parser=false

# Telegram (å¼ºåˆ¶è¿œç¨‹DNSï¼Œé˜²è½¬åœˆ)
https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/QuantumultX/Telegram/Telegram.list, tag=Telegram, policy=æµ·å¤–æœåŠ¡, force-remote-dns=1, update-interval=86400, opt-parser=false

# GitHub
https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/QuantumultX/GitHub/GitHub.list, tag=GitHub, policy=æµ·å¤–æœåŠ¡, force-remote-dns=1, update-interval=86400, opt-parser=false

# ------------------- 4. åŸºç¡€æœåŠ¡ä¸å…œåº• -------------------
# Google å…¨å®¶æ¡¶ (ä¿®å¤å›¾ç‰‡/æ¨é€/è´¦å·)
https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/QuantumultX/Google/Google.list, tag=Google, policy=æµ·å¤–æœåŠ¡, force-remote-dns=1, update-interval=86400, opt-parser=false

# è‹¹æœæœåŠ¡ä¼˜åŒ– (ä»…é’ˆå¯¹ç¾åŒº/éšç§åŠŸèƒ½èµ°ä»£ç†ï¼Œä¸‹è½½ä¾ç„¶ç›´è¿)
https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/QuantumultX/Apple/Apple_Proxy.list, tag=AppleProxy, policy=æµ·å¤–æœåŠ¡, force-remote-dns=1, update-interval=86400, opt-parser=false

# å¢™å†…è¡¥æ¼ (Global) - åŒ…å« Pornhubã€ç»´åŸºç™¾ç§‘ç­‰å…¶ä»–è¢«å¢™ç½‘ç«™
# æ›¿ä»£äº†ä½ åŸæ¥çš„ overseas.listï¼Œä½†å‰”é™¤äº† PayPal å’Œ AWS é£é™©
https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/QuantumultX/Global/Global.list, tag=Global, policy=æµ·å¤–æœåŠ¡, force-remote-dns=1, update-interval=86400, opt-parser=false

# ------------------- 5. ä¸­å›½å¤§é™†æœåŠ¡ -------------------
# ä½¿ç”¨é«˜è´¨é‡ CDN é“¾æ¥ï¼Œä¸å†ä½¿ç”¨ fhf1231 çš„ç›´è¿é“¾æ¥
https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/QuantumultX/China/China.list, tag=China, policy=å¤§é™†æœåŠ¡, update-interval=86400, opt-parser=false



[filter_local]
host-suffix, local, direct
# ==========================================
# 1. æœ¬åœ°ä¿®æ­£ & AI è¡¥æ¼ (ä¼˜å…ˆçº§æœ€é«˜)
# ==========================================
# xAI / Grok
HOST-SUFFIX, x.com, æµ·å¤–æœåŠ¡
HOST-SUFFIX, grok.com, æµ·å¤–æœåŠ¡
HOST-SUFFIX, x.ai, æµ·å¤–æœåŠ¡
HOST-SUFFIX, api.x.ai, æµ·å¤–æœåŠ¡
# OpenAI è¡¥æ¼
HOST-SUFFIX, chatgpt.com, æµ·å¤–æœåŠ¡
HOST-SUFFIX, oaiusercontent.com, æµ·å¤–æœåŠ¡
# ç¾åŒºæœåŠ¡ä¿®æ­£
HOST-SUFFIX, stocks-data-service.apple.com, æµ·å¤–æœåŠ¡
HOST-SUFFIX, ls.apple.com, æµ·å¤–æœåŠ¡
HOST, token.safebrowsing.apple, æµ·å¤–æœåŠ¡
# Emby ç§æœ
HOST-SUFFIX, xeton.dev, æµ·å¤–æœåŠ¡

# ==========================================
# 2. ä¸­å›½å¤§é™†æœåŠ¡ (ä¿ç•™è¿™ä»½ç›´è¿è§„åˆ™ï¼Œçœæµé‡)
# ==========================================
# Apple ä¸‹è½½åŠ é€Ÿ
HOST-SUFFIX, mzstatic.com, direct
HOST-SUFFIX, cdn-apple.com, direct


host-suffix, doubleclick.net, reject
host-suffix, app-analytics-services.com, reject
# å…œåº•
HOST-SUFFIX, cn, direct
GEOIP, CN, direct

final, direct

[rewrite_remote]

[rewrite_local]
https?:\/\/[\w-]+\.googlevideo\.com\/initplayback.*&oad url reject-200
^https:\/\/youtubei\.googleapis\.com\/youtubei\/v1\/(next|player|browse|search|get_watch|guide) url script-response-body https://raw.githubusercontent.com/Maasea/sgmodule/master/Script/Youtube/youtube.response.js?captionLang=off&lyricLang=off&blockUpload=true&blockImmersive=true&blockShorts=false&debug=false

[task_local]

[mitm]
hostname = youtubei.googleapis.com, *.googlevideo.com
